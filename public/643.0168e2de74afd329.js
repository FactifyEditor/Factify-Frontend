"use strict";(self.webpackChunknewschecker=self.webpackChunknewschecker||[]).push([[643],{5643:(F,y,n)=>{n.r(y),n.d(y,{UsersModule:()=>U});var Z=n(6895),e=n(1571),v=n(3599);class m{}m.\u0275fac=function(r){return new(r||m)},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-users"]],decls:1,vars:0,template:function(r,t){1&r&&e._UZ(0,"router-outlet")},dependencies:[v.lC]});var T=n(529),o=n(162),d=n(2292),A=n(5415);class c{constructor(r,t,l,i,h){this.http=r,this.userService=t,this.sharedService=l,this.router=i,this.route=h,this.title="newschecker",this.dtOptions={}}ngOnInit(){var r=this;this.dtOptions={ajax:(t,l)=>{r.userService.getAllUsers().subscribe(i=>{l({recordsTotal:i.length,recordsFiltered:i.length,data:i.data})})},columns:[{data:""},{data:"_id"},{data:"_id"},{data:"firstName"},{data:"created"},{data:"status"},{data:""}],columnDefs:[{className:"control",orderable:!1,targets:0,render:function(t,l,i,h){return""}},{targets:1,orderable:!1,render:function(){return'<input type="checkbox" class="dt-checkboxes form-check-input">'},checkboxes:{selectAllRender:'<input type="checkbox" class="form-check-input">'}},{targets:2,visible:!1},{targets:3,render:function(t,l,i,h){var p=i.avatar,b=i.firstName,J=i.lastName,E=i.roles[0].name;if(p)var w='<img src="assets/img/avatars/'+p+'" alt="Avatar" class="rounded-circle">';else{var L=["success","danger","warning","info","primary","secondary"][Math.floor(6*Math.random())],N=(b=i.firstName).match(/\b\w/g)||[];w='<span class="avatar-initial rounded-circle bg-label-'+L+'">'+(N=((N.shift()||"")+(N.pop()||"")).toUpperCase())+"</span>"}return'<div class="d-flex justify-content-start align-items-center"><div class="avatar-wrapper"><div class="avatar me-2">'+w+'</div></div><div class="d-flex flex-column"><span class="emp_name text-truncate">'+b+" "+J+'</span><small class="emp_post text-truncate text-muted">'+E+"</small></div></div>"}},{targets:4,render:function(t,l,i,h){return r.sharedService.getFormattedDate(new Date(i.created))}},{targets:5,render:function(t,l,i,h){var p=i.status,b={0:{title:"Pending",class:"bg-label-warning"},1:{title:"Active",class:"bg-label-primary"},2:{title:"Professional",class:" bg-label-success"},3:{title:"Rejected",class:" bg-label-danger"},4:{title:"Resigned",class:" bg-label-warning"},5:{title:"Applied",class:" bg-label-info"}};return typeof b[p]>"u"?t:'<span class="badge '+b[p].class+'">'+b[p].title+"</span>"}},{targets:6,title:"Actions",orderable:!1,render:function(t,l,i,h){var p=i.id;return`<div class="d-inline-block">\n          <a href="javascript:;" class="btn btn-sm btn-icon dropdown-toggle hide-arrow" data-bs-toggle="dropdown"><i class="text-primary ti ti-dots-vertical"></i></a>\n          <div class="dropdown-menu dropdown-menu-end m-0">\n          <a   routerlink="/feed/list/${p}" ng-reflect-router-link="/feed/list/${p}" href="/feed/list/${p}"  class="dropdown-item">Details</a>\n          <a href="javascript:;" class="dropdown-item">Archive</a>\n          <div class="dropdown-divider"></div>\n          <a href="javascript:;" class="dropdown-item text-danger delete-record">Delete</a>\n          </div> \n          </div>`}}],order:[[2,"desc"]],dom:"<'row'<'col-sm-6'l><'col-sm-4'f> <'col-sm-2 text-center table_add_button 'B>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",buttons:[{text:'<i class="ti ti-plus me-sm-1"></i> <span class="d-none d-sm-inline-block"></span>',className:"create-new btn btn-primary btn-sm ",action:function(t,l,i,h){r.router.navigate(["users/create"])}}],lengthMenu:[7,10,25,50,75,100]}}ngAfterViewInit(){}}c.\u0275fac=function(r){return new(r||c)(e.Y36(T.eN),e.Y36(o.K),e.Y36(d.F),e.Y36(v.F0),e.Y36(v.gz))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-user-list"]],decls:23,vars:1,consts:[[1,"container-xxl","flex-grow-1","container-p-y"],[1,"fw-bold","py-3","mb-4"],[1,"text-muted","fw-light"],[1,"card"],[1,"card-body"],[1,"card-datatable","table-responsive"],["datatable","",1,"dt-fixedheader","table",3,"dtOptions"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"h4",1)(2,"span",2),e._uU(3,"Settings /"),e.qZA(),e._uU(4," Users"),e.qZA(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr"),e._UZ(11,"th")(12,"th"),e.TgZ(13,"th"),e._uU(14,"_id"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Name"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Last Login"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Status"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Action"),e.qZA()()()()()()()()),2&r&&(e.xp6(8),e.Q6J("dtOptions",t.dtOptions))},dependencies:[A.G]});var a=n(4006),f=n(6481);function g(s,r){1&s&&(e.TgZ(0,"div"),e._uU(1,"First Name is required!"),e.qZA())}function u(s,r){if(1&s&&(e.TgZ(0,"div",26),e.YNc(1,g,2,0,"div",27),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.firstName.errors.firstName)}}function x(s,r){1&s&&(e.TgZ(0,"div"),e._uU(1,"Last Name is required!"),e.qZA())}function S(s,r){if(1&s&&(e.TgZ(0,"div",26),e.YNc(1,x,2,0,"div",27),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.lastName.errors.lastName)}}function q(s,r){1&s&&(e.TgZ(0,"div"),e._uU(1,"Mobile is required!"),e.qZA())}function C(s,r){if(1&s&&(e.TgZ(0,"div",26),e.YNc(1,q,2,0,"div",27),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.email.errors.email)}}function D(s,r){1&s&&(e.TgZ(0,"div"),e._uU(1,"Mobile is required!"),e.qZA())}function M(s,r){if(1&s&&(e.TgZ(0,"div",26),e.YNc(1,D,2,0,"div",27),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.mobile.errors.mobile)}}function Y(s,r){if(1&s&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&s){const t=r.$implicit,l=r.index;e.Q6J("ngValue",t._id)("selected",0===l),e.xp6(1),e.hij("",t.name," ")}}class _{constructor(r,t,l,i){this.fb=r,this.userService=t,this._router=l,this.toastService=i,this.hide=!0,this.submitted=!1,this.validation_messages={firstName:[{type:"required",message:"First Name is required"}],lastName:[{type:"required",message:"Last Name is required"}],email:[{type:"required",message:"Email is required"},{type:"pattern",message:"Enter a valid mail"}],mobile:[{type:"required",message:"Mobile password is required"}],role:[{type:"required",message:"Role is required"}]}}ngOnInit(){this.roles$=this.userService.getRoles(),this.registerForm=this.fb.group({firstName:["",a.kI.required],lastName:["",a.kI.required],email:["",[a.kI.required,a.kI.email]],mobile:["",[a.kI.required]],roles:["",[a.kI.required]]})}get registerFormControl(){return this.registerForm.controls}onSubmit(){this.submitted=!0,console.log(this.registerForm.value),this.registerForm.valid&&this.userService.addUser({firstName:this.registerForm.value.firstName,lastName:this.registerForm.value.lastName,email:this.registerForm.value.email,phone:this.registerForm.value.mobile,roles:[this.registerForm.value.roles]}).subscribe(t=>{console.log(t)},t=>{console.log("error",t),this.toastService.show(t,{classname:"bg-dander text-dark",delay:1e4})},()=>{this.toastService.show("New User Added",{classname:"bg-success text-dark",delay:1e4}),this._router.navigate(["/users/list"])})}onSubmitAccountDetails(r){console.log(r)}onSubmitUserDetails(r){console.log(r)}get f(){return this.registerForm.controls}}_.\u0275fac=function(r){return new(r||_)(e.Y36(a.qu),e.Y36(o.K),e.Y36(v.F0),e.Y36(f.k))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-add-user"]],decls:50,vars:9,consts:[[1,"container-xxl","flex-grow-1","container-p-y"],[1,"fw-bold","py-3","mb-4"],[1,""],[1,"ti","ti-chevron-left",2,"font-size","2rem","margin-top","-5px"],[1,"text-muted","fw-light"],[1,"card"],[1,"card-body"],["id","accountDetailsValidation",1,"content","active","dstepper-block","fv-plugins-bootstrap5","fv-plugins-framework"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-sm-6","fv-plugins-icon-container"],["for","multiStepsUsername",1,"form-label"],["type","text","formControlName","firstName","name","multiStepsUsername","id","multiStepsUsername","placeholder","johndoe",1,"form-control"],[1,"fv-plugins-message-container","invalid-feedback"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","lastName","name","multiStepsUsername","id","multiStepsUsername","placeholder","johndoe",1,"form-control"],["for","multiStepsEmail",1,"form-label"],["type","email","formControlName","email","name","multiStepsEmail","id","multiStepsEmail","placeholder","john.doe@email.com","aria-label","john.doe",1,"form-control"],["type","email","formControlName","mobile","name","multiStepsEmail","id","multiStepsEmail","placeholder","john.doe@email.com","aria-label","john.doe",1,"form-control"],["formControlName","roles",1,"form-control"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["value",""],[1,"col-12","d-flex","justify-content-between","mt-4"],[1,"btn","btn-primary","btn-next","waves-effect","waves-light",3,"disabled"],[1,"align-middle","d-sm-inline-block","d-none","me-sm-1","me-0"],[1,"ti","ti-arrow-right","ti-xs"],[1,"invalid-feedback"],[4,"ngIf"],[3,"ngValue","selected"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"h4",1)(2,"a",2),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"span",4),e._uU(5,"Settings /Users/"),e.qZA(),e._uU(6," Add New"),e.qZA(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"form",8),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(11,"div",9)(12,"div",10)(13,"label",11),e._uU(14,"First Name"),e.qZA(),e._UZ(15,"input",12),e.TgZ(16,"div",13),e.YNc(17,u,2,1,"div",14),e.qZA()(),e.TgZ(18,"div",10)(19,"label",11),e._uU(20,"Last Name"),e.qZA(),e._UZ(21,"input",15),e.TgZ(22,"div",13),e.YNc(23,S,2,1,"div",14),e.qZA()(),e.TgZ(24,"div",10)(25,"label",16),e._uU(26,"Email"),e.qZA(),e._UZ(27,"input",17),e.TgZ(28,"div",13),e.YNc(29,C,2,1,"div",14),e.qZA()(),e.TgZ(30,"div",10)(31,"label",16),e._uU(32,"Mobile"),e.qZA(),e._UZ(33,"input",18),e.TgZ(34,"div",13),e.YNc(35,M,2,1,"div",14),e.qZA()(),e.TgZ(36,"div",10)(37,"label",16),e._uU(38,"Role"),e.qZA(),e.TgZ(39,"select",19),e.YNc(40,Y,2,3,"option",20),e.ALo(41,"async"),e.TgZ(42,"option",21),e._uU(43,"Select Role"),e.qZA()(),e._UZ(44,"div",13),e.qZA(),e.TgZ(45,"div",22)(46,"button",23)(47,"span",24),e._uU(48,"Save"),e.qZA(),e._UZ(49,"i",25),e.qZA()()()()()()()()),2&r&&(e.xp6(10),e.Q6J("formGroup",t.registerForm),e.xp6(7),e.Q6J("ngIf",t.f.firstName.touched&&t.f.firstName.errors),e.xp6(6),e.Q6J("ngIf",t.f.lastName.touched&&t.f.lastName.errors),e.xp6(6),e.Q6J("ngIf",t.f.email.touched&&t.f.email.errors),e.xp6(6),e.Q6J("ngIf",t.f.mobile.touched&&t.f.mobile.errors),e.xp6(5),e.Q6J("ngForOf",e.lcZ(41,7,t.roles$)),e.xp6(6),e.Q6J("disabled",t.registerForm.invalid))},dependencies:[Z.sg,Z.O5,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,Z.Ov]});var $=n(5791);const I=[{path:"",component:m,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:c},{path:"create",component:_},{path:":id",component:_}]}];class U{}U.\u0275fac=function(r){return new(r||U)},U.\u0275mod=e.oAB({type:U}),U.\u0275inj=e.cJS({imports:[Z.ez,$.m,v.Bz.forChild(I)]})},2292:(F,y,n)=>{n.d(y,{F:()=>m});var Z=n(2340),e=n(1571),v=n(529);class m{constructor(o){this.http=o,this.baseURL=Z.N.BASE_URL,this.MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"]}getFormattedDate(o,d=!1,A=!1){const c=o.getDate(),a=this.MONTH_NAMES[o.getMonth()],f=o.getFullYear(),g=o.getHours();let u=o.getMinutes();return u<10&&(u=`0${u}`),d?`${d} at ${g}:${u}`:A?`${c}. ${a} at ${g}:${u}`:`${c}. ${a} ${f}. at ${g}:${u}`}timeAgo(o){if(!o)return null;const d="object"==typeof o?o:new Date(o),c=new Date,a=new Date(c-864e5),f=Math.round((c-d)/1e3),g=Math.round(f/60),u=c.toDateString()===d.toDateString(),x=a.toDateString()===d.toDateString(),S=c.getFullYear()===d.getFullYear();return f<5?"now":f<60?`${f} seconds ago`:f<90?"about a minute ago":g<60?`${g} minutes ago`:u?this.getFormattedDate(d,"Today"):x?this.getFormattedDate(d,"Yesterday"):S?this.getFormattedDate(d,!1,!0):this.getFormattedDate(d)}addVideoTemplate(o){return this.http.post(`${this.baseURL}/file/upload`,o,{reportProgress:!0,observe:"events"})}}m.\u0275fac=function(o){return new(o||m)(e.LFG(v.eN))},m.\u0275prov=e.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}}]);