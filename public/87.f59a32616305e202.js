"use strict";(self.webpackChunknewschecker=self.webpackChunknewschecker||[]).push([[87],{6087:(D,_,s)=>{s.r(_),s.d(_,{ImageTemplatesModule:()=>u});var h=s(6895),r=s(4006),p=s(529),e=s(1571),w=s(162),T=s(3398),Z=s(3841),x=s(2292),C=s(6481),m=s(3599);function y(n,a){if(1&n&&(e.TgZ(0,"div",25),e._UZ(1,"img",26),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",t.preview,e.LSH)}}class f{constructor(a){this.sharedService=a,this.percentDone=0}ngOnInit(){}uploadIntroFile(a){const t=a.target.files[0],i=new FileReader;i.onload=()=>{this.preview=i.result},i.readAsDataURL(t),this.uploadFile(t)}uploadFile(a){var t=new FormData;t.append("image",a),this.sharedService.addVideoTemplate(t).subscribe(i=>{switch(i.type){case p.dt.Sent:console.log("Request has been made!");break;case p.dt.ResponseHeader:console.log("Response header has been received!");break;case p.dt.UploadProgress:this.percentDone=Math.round(i.loaded/i.total*100),console.log(`Uploaded! ${this.percentDone}%`);break;case p.dt.Response:console.log("User successfully created!",i.body),this.percentDone=!1,this.language.image=i.body.data[0].url,this.preview=this.language.image}})}}function A(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1," First Name is required! "),e.qZA())}function O(n,a){if(1&n&&(e.TgZ(0,"div",37),e.YNc(1,A,2,0,"div",38),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.name.errors.name)}}function M(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1," Description is required! "),e.qZA())}function U(n,a){if(1&n&&(e.TgZ(0,"div",37),e.YNc(1,M,2,0,"div",38),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.description.errors.description)}}function P(n,a){if(1&n&&(e.TgZ(0,"div",39),e._UZ(1,"img",40),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.preview,e.LSH)}}function q(n,a){if(1&n&&(e.TgZ(0,"div",41)(1,"div",42)(2,"div",43)(3,"div",44)(4,"h2",45)(5,"button",46),e._uU(6),e.qZA()(),e.TgZ(7,"div",47)(8,"div",48),e._UZ(9,"app-template-languages",49),e.qZA()()()()()()),2&n){const t=a.$implicit;e.xp6(5),e.uIk("data-bs-target","#accordionOne"+t.value),e.xp6(1),e.hij(" ",t.language," "),e.xp6(1),e.Q6J("id","accordionOne"+t.value),e.xp6(2),e.Q6J("language",t)}}function I(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",6)(1,"form",7),e.NdJ("ngSubmit",function(){const l=e.CHM(t).ngIf,d=e.oxw();return e.KtG(d.submitForm(l.data))}),e.TgZ(2,"div",8)(3,"div",9)(4,"label",10),e._uU(5,"Name"),e.qZA(),e._UZ(6,"input",11),e.TgZ(7,"div",12),e.YNc(8,O,2,1,"div",13),e.qZA()(),e.TgZ(9,"div",9)(10,"label",10),e._uU(11,"Description"),e.qZA(),e._UZ(12,"textarea",14),e.TgZ(13,"div",12),e.YNc(14,U,2,1,"div",13),e.qZA()(),e.TgZ(15,"div",15)(16,"label",16),e._uU(17,"Image"),e.qZA(),e.TgZ(18,"div",17)(19,"div",18)(20,"label",19),e._UZ(21,"img",20),e.TgZ(22,"div",21)(23,"div",22)(24,"div",23),e._UZ(25,"i",24),e.qZA()()(),e.TgZ(26,"input",25),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.uploadImageFile(o))}),e.qZA()()()(),e.TgZ(27,"div",26),e.YNc(28,P,2,1,"div",27),e.qZA()(),e.TgZ(29,"div",28)(30,"div",29)(31,"div",30)(32,"h6",31),e._uU(33,"Languages"),e.qZA()(),e.TgZ(34,"div"),e.YNc(35,q,10,4,"div",32),e.qZA()()(),e.TgZ(36,"div",33)(37,"button",34)(38,"span",35),e._uU(39),e.qZA(),e._UZ(40,"i",36),e.qZA()()()()()}if(2&n){const t=a.ngIf,i=e.oxw();e.xp6(1),e.Q6J("formGroup",i.templateForm),e.xp6(7),e.Q6J("ngIf",i.f.name.touched&&i.f.name.errors),e.xp6(6),e.Q6J("ngIf",i.f.description.touched&&i.f.description.errors),e.xp6(14),e.Q6J("ngIf",i.preview&&null!==i.preview),e.xp6(7),e.Q6J("ngForOf",t.data),e.xp6(2),e.Q6J("disabled",i.templateForm.invalid),e.xp6(2),e.Oqu(i.buttonText)}}f.\u0275fac=function(a){return new(a||f)(e.Y36(x.F))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-template-languages"]],inputs:{language:"language"},decls:27,vars:3,consts:[["id","accountDetailsValidation",1,"content","active","dstepper-block","fv-plugins-bootstrap5","fv-plugins-framework"],[1,"row"],[1,"col-sm-3"],[1,"switch","switch-success"],["type","checkbox",1,"switch-input",3,"ngModel","checked","ngModelChange"],[1,"switch-toggle-slider"],[1,"switch-on"],[1,"ti","ti-check"],[1,"switch-off"],[1,"ti","ti-x"],[1,"switch-label"],[1,"mb-3","row","mt-20"],["for","html5-text-input",1,"mt-20","col-md-2","col-form-label"],[1,"col-md-2"],[1,"image-upload"],["for","file_uploadheadlineTrack",2,"cursor","pointer"],["src","","alt","",1,"uploaded-image"],[1,"h-100"],[1,"dplay-tbl"],[1,"dplay-tbl-cell"],[1,"ti","ti-upload","upload_icon"],["data-required","image","type","file","name","image_name","id","file_uploadheadlineTrack","accept","image/*","data-traget-resolution","image_resolution","value","",1,"image-input",3,"change"],[1,"col-md-8"],["class","preview","class","card","style","max-width:125px",4,"ngIf"],[1,"col-12","d-flex","justify-content-between","mt-4"],[1,"card",2,"max-width","125px"],["alt","Card image cap",1,"card-img",3,"src"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3)(4,"input",4),e.NdJ("ngModelChange",function(o){return t.language.isEnabled=o}),e.qZA(),e.TgZ(5,"span",5)(6,"span",6),e._UZ(7,"i",7),e.qZA(),e.TgZ(8,"span",8),e._UZ(9,"i",9),e.qZA()(),e.TgZ(10,"span",10),e._uU(11,"Enable"),e.qZA()()()(),e.TgZ(12,"div",11)(13,"label",12),e._uU(14,"Image"),e.qZA(),e.TgZ(15,"div",13)(16,"div",14)(17,"label",15),e._UZ(18,"img",16),e.TgZ(19,"div",17)(20,"div",18)(21,"div",19),e._UZ(22,"i",20),e.qZA()()(),e.TgZ(23,"input",21),e.NdJ("change",function(o){return t.uploadIntroFile(o)}),e.qZA()()()(),e.TgZ(24,"div",22),e.YNc(25,y,2,1,"div",23),e.qZA()(),e._UZ(26,"div",24),e.qZA()),2&a&&(e.xp6(4),e.Q6J("ngModel",t.language.isEnabled)("checked",t.language.isEnabled),e.xp6(21),e.Q6J("ngIf",t.preview&&null!==t.preview))},dependencies:[h.O5,r.Wl,r.JJ,r.On],styles:["td[_ngcontent-%COMP%]{white-space:-o-pre-wrap;word-wrap:break-word;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap}.upload_icon[_ngcontent-%COMP%]{color:#226099!important;font-size:1.5rem!important}.border_right[_ngcontent-%COMP%]{border-right:1px solid lightgrey}.img-fluid[_ngcontent-%COMP%]{max-width:30%!important;height:auto}.padding_left[_ngcontent-%COMP%]{margin-left:10px}.padding_bottom[_ngcontent-%COMP%]{margin-bottom:10px}.padding_top[_ngcontent-%COMP%]{margin-top:10px}.box-border-left[_ngcontent-%COMP%], .box-border-right[_ngcontent-%COMP%]{border-right:6px solid lightgrey}.item-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:20px;height:auto;max-height:100px;width:auto;border-radius:5px;overflow:hidden}.image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50%!important;width:auto!important;border-radius:0;margin:0 auto}.image-upload[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1em;color:#ccc}.image-upload[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:pointer;opacity:0;height:50%;width:50%;z-index:10;position:absolute;top:0;left:0}.image-upload[_ngcontent-%COMP%]{margin-bottom:20px;position:relative}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.item-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:43px;line-height:43px;border:1px solid #ddd;border-radius:4px;margin-bottom:20px}"]});class g{constructor(a,t,i,o,l,d,c,J){this.fb=a,this.userService=t,this.templateService=i,this.languageService=o,this.sharedService=l,this.toastService=d,this._router=c,this.activatedRoute=J,this.percentDone=0,this.hide=!0,this.submitted=!1,this.buttonText="Add",this.headerText="Add",this.template={},this.validation_messages={firstName:[{type:"required",message:"First Name is required"}],lastName:[{type:"required",message:"Last Name is required"}],email:[{type:"required",message:"Email is required"},{type:"pattern",message:"Enter a valid mail"}],mobile:[{type:"required",message:"Mobile password is required"}],role:[{type:"required",message:"Role is required"}]}}initForm(a){this.templateForm=this.fb.group({name:[a.name,r.kI.required],description:[a.description,r.kI.required],image:["",[r.kI.required]]}),a?.image&&(this.preview=a.image)}ngOnInit(){const a=this.activatedRoute.snapshot.paramMap.get("id");null!=a&&(this.templateService.getImageTemplate(a).subscribe(t=>{this.template=t.data,this.initForm(this.template)}),this.buttonText="Update",this.headerText="Edit"),this.initForm(this.template),this.languages$=this.languageService.getAllLanguages()}uploadImageFile(a){console.log(a);const t=a.target.files[0];this.templateForm.patchValue({image:t}),this.templateForm.get("image").updateValueAndValidity();const i=new FileReader;i.onload=()=>{this.preview=i.result},i.readAsDataURL(t),this.uploadFile(t,"image")}submitForm(a){this.templateService.addImageTemplate({name:this.templateForm.value.name,description:this.templateForm.value.description,image:this.template.image,languages:a}).subscribe(i=>{console.log(i)},i=>{console.log("error",i),this.toastService.show(i,{classname:"bg-dander text-dark",delay:1e4})},()=>{this.toastService.show("New Template Added",{classname:"bg-success text-dark",delay:1e4}),this._router.navigate(["/templates/images/list"])})}uploadFile(a,t){var i=new FormData;i.append(t,a),this.sharedService.addVideoTemplate(i).subscribe(o=>{switch(o.type){case p.dt.Sent:console.log("Request has been made!");break;case p.dt.ResponseHeader:console.log("Response header has been received!");break;case p.dt.UploadProgress:this.percentDone=Math.round(o.loaded/o.total*100),console.log(`Uploaded! ${this.percentDone}%`);break;case p.dt.Response:console.log("User successfully created!",o.body),this.percentDone=!1,this.template[t]=o.body.data[0].url,"image"==t&&(this.preview=this.template[t])}})}get f(){return this.templateForm.controls}}g.\u0275fac=function(a){return new(a||g)(e.Y36(r.qu),e.Y36(w.K),e.Y36(T.E),e.Y36(Z.T),e.Y36(x.F),e.Y36(C.k),e.Y36(m.F0),e.Y36(m.gz))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-add-template"]],decls:9,vars:4,consts:[[1,"container-xxl","flex-grow-1","container-p-y"],[1,"fw-bold","py-3","mb-4"],[1,"text-muted","fw-light"],[1,"card"],[1,"card-body"],["id","accountDetailsValidation","class","content active dstepper-block fv-plugins-bootstrap5 fv-plugins-framework",4,"ngIf"],["id","accountDetailsValidation",1,"content","active","dstepper-block","fv-plugins-bootstrap5","fv-plugins-framework"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-sm-12","fv-plugins-icon-container"],["for","multiStepsUsername",1,"form-label"],["type","text","formControlName","name","name","multiStepsUsername","id","multiStepsUsername","placeholder","Name",1,"form-control"],[1,"fv-plugins-message-container","invalid-feedback"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","description","name","multiStepsUsername","id","multiStepsUsername","placeholder","Description",1,"form-control"],[1,"mb-3","row","mt-20"],["for","html5-text-input",1,"mt-20","col-md-2","col-form-label"],[1,"col-md-2"],[1,"image-upload"],["for","file_upload",2,"cursor","pointer"],["src","","alt","",1,"uploaded-image"],[1,"h-100"],[1,"dplay-tbl"],[1,"dplay-tbl-cell"],[1,"ti","ti-upload","upload_icon"],["data-required","image","type","file","name","image_name","id","file_upload","accept","image/*","data-traget-resolution","image_resolution","value","",1,"image-input",3,"change"],[1,"col-md-8"],["class","preview","class","card","style","max-width:125px",4,"ngIf"],[1,"bs-stepper-content"],["id","account-details",1,"content","active","dstepper-block"],[1,"content-header","mb-3"],[1,"mb-0"],["class","mb-3 row",4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-between","mt-4"],[1,"btn","btn-primary","btn-next","waves-effect","waves-light",3,"disabled"],[1,"align-middle","d-sm-inline-block","d-none","me-sm-1","me-0"],[1,"ti","ti-device-floppy"],[1,"invalid-feedback"],[4,"ngIf"],[1,"card",2,"max-width","125px"],["alt","Card image cap",1,"card-img",3,"src"],[1,"mb-3","row"],[1,"col-sm-10"],["id","accordionExample",1,"accordion","mt-3"],[1,"card","accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","true","aria-controls","accordionOne",1,"accordion-button"],["data-bs-parent","#accordionExample",1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"],[3,"language"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"h4",1)(2,"span",2),e._uU(3,"Settings/Templates/"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"div",3)(6,"div",4),e.YNc(7,I,41,7,"div",5),e.ALo(8,"async"),e.qZA()()()),2&a&&(e.xp6(4),e.hij("",t.headerText," "),e.xp6(3),e.Q6J("ngIf",e.lcZ(8,2,t.languages$)))},dependencies:[h.sg,h.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,f,h.Ov],styles:[".image-upload[_ngcontent-%COMP%]{margin-bottom:20px;position:relative}.mt-20[_ngcontent-%COMP%]{margin-top:20px}td[_ngcontent-%COMP%]{white-space:-o-pre-wrap;word-wrap:break-word;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap}.upload_icon[_ngcontent-%COMP%]{color:#226099!important;font-size:1.5rem!important}.border_right[_ngcontent-%COMP%]{border-right:1px solid lightgrey}.img-fluid[_ngcontent-%COMP%]{max-width:30%!important;height:auto}.padding_left[_ngcontent-%COMP%]{margin-left:10px}.padding_bottom[_ngcontent-%COMP%]{margin-bottom:10px}.padding_top[_ngcontent-%COMP%]{margin-top:10px}.box-border-left[_ngcontent-%COMP%], .box-border-right[_ngcontent-%COMP%]{border-right:6px solid lightgrey}.item-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:20px;height:auto;max-height:100px;width:auto;border-radius:5px;overflow:hidden}.image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50%!important;width:auto!important;border-radius:0;margin:0 auto}.image-upload[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1em;color:#ccc}.image-upload[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:pointer;opacity:0;height:50%;width:50%;z-index:10;position:absolute;top:0;left:0}.item-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:43px;line-height:43px;border:1px solid #ddd;border-radius:4px;margin-bottom:20px}"]});var F=s(2340),k=s(5415);class v{constructor(a,t,i){this.http=a,this.router=t,this.route=i,this.title="newschecker",this.baseURL=F.N.BASE_URL,this.dtOptions={}}ngOnInit(){var a=this;this.dtOptions={ajax:(t,i)=>{a.http.get(`${this.baseURL}/template/image`).subscribe(o=>{i({recordsTotal:o.data.length,recordsFiltered:o.data.length,data:o.data})})},columns:[{data:""},{data:"_id"},{data:"_id"},{data:"name"},{data:"description"},{data:"languages"},{data:"image"},{data:"status"},{data:""}],columnDefs:[{className:"control",orderable:!1,targets:0,render:function(t,i,o,l){return""}},{targets:1,visible:!1},{target:2,visible:!1},{targets:5,render:function(t,i,o,l){let d=`${o.languages.filter(c=>c.isEnabled).map(function(c){return c.language}).join(", ")}`;return console.log(d),"<span >"+d+"</span>"}},{targets:6,render:function(t,i,o,l){return`<div class="form-check custom-option custom-option-image custom-option-image-radio">\n      <label class="form-check-label custom-option-content" for="customRadioImg2">\n        <span class="custom-option-body">\n          <img src="${o.image}" height="200" alt="radioImg" style="\n          max-height: 100px;\n          max-width: 120px;\n      ">\n        </span>\n      </label>\n      <input name="customRadioImage" class="form-check-input" type="radio" value="customRadioImg2" id="customRadioImg2">\n    </div>`}},{targets:7,render:function(t,i,o,l){var d=parseInt(o.status),c={2:{title:"Current",class:"bg-label-primary"},1:{title:"Enabled",class:" bg-label-success"},3:{title:"Rejected",class:" bg-label-danger"},4:{title:"Resigned",class:" bg-label-warning"},0:{title:"Enabled",class:" bg-label-info"}};return typeof c[d]>"u"?t:'<span class="badge '+c[d].class+'">'+c[d].title+"</span>"}},{targets:-1,title:"Actions",orderable:!1,render:function(t,i,o,l){return`<div class="d-inline-block">\n          <a href="javascript:;" class="btn btn-sm btn-icon dropdown-toggle hide-arrow" data-bs-toggle="dropdown"><i class="text-primary ti ti-dots-vertical"></i></a>\n          <div class="dropdown-menu dropdown-menu-end m-0">\n          <a href="/templates/images/${o._id}"    class="dropdown-item">Details</a>\n          <a href="javascript:;" class="dropdown-item">Archive</a>\n          <div class="dropdown-divider"></div>\n          <a href="javascript:;" class="dropdown-item text-danger delete-record">Delete</a>\n          </div> \n          </div>`}}],order:[[2,"desc"]],dom:"<'row'<'col-sm-6'l><'col-sm-4'f> <'col-sm-2 text-center table_add_button 'B>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",buttons:[{text:'<i class="ti ti-plus me-sm-1"></i> <span class="d-none d-sm-inline-block"></span>',className:"create-new btn btn-primary btn-sm ",action:function(t,i,o,l){a.router.navigate(["templates/images/create"])}}],lengthMenu:[7,10,25,50,75,100]}}ngAfterViewInit(){}}v.\u0275fac=function(a){return new(a||v)(e.Y36(p.eN),e.Y36(m.F0),e.Y36(m.gz))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-template-list"]],decls:27,vars:1,consts:[[1,"container-xxl","flex-grow-1","container-p-y"],[1,"fw-bold","py-3","mb-4"],[1,"text-muted","fw-light"],[1,"card"],[1,"card-body"],[1,"card-datatable","table-responsive"],["datatable","",1,"dt-fixedheader","table",3,"dtOptions"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"h4",1)(2,"span",2),e._uU(3,"Settings/Templates/"),e.qZA(),e._uU(4," Image"),e.qZA(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr"),e._UZ(11,"th")(12,"th"),e.TgZ(13,"th"),e._uU(14,"id"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Name"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Description"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Languages"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Preview"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Status"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Action"),e.qZA()()()()()()()()),2&a&&(e.xp6(8),e.Q6J("dtOptions",t.dtOptions))},dependencies:[k.G],styles:[".custom-option-image[_ngcontent-%COMP%]   .custom-option-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px!important}.custom-option[_ngcontent-%COMP%]{padding-left:0;border:0px solid #dbdade;border-radius:.375rem}"]});class b{}b.\u0275fac=function(a){return new(a||b)},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-image-templates"]],decls:1,vars:0,template:function(a,t){1&a&&e._UZ(0,"router-outlet")},dependencies:[m.lC]});var S=s(5791);const N=[{path:"",component:b,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:v},{path:"create",component:g},{path:":id",component:g}]}];class u{}u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[h.ez,S.m,m.Bz.forChild(N)]})}}]);